---
title: '单点登陆（SSO）介绍'
date: 2019-11-26 13:23:34
tags: [单点登陆]
published: true
hideInList: false
feature: /post-images/dan-dian-deng-lu-ssojie-shao.png
---
单点登陆是很多企业进行企业项目整合都会用到的技术，单点登陆主要作用是简化用户认证流程，即登陆一次即可访问多个系统，退出一次全部退出。
<!-- more -->
## 1、产生背景
单点登陆的产生主要是随着企业业务的发展，企业会有许多系统来处理不通的业务，而如果各个系统均单独做登陆认证功能，会造成多个系统都需要开发一样的认证逻辑的功能，而且用户在使用时也需要频繁的进行登陆退回，而单点登陆，就是多个系统共同信任同一份票据，这份票据，可以在各个业务系统中进行使用，以此来实现身份认证的组合。

## 2、实现流程
1、用户1登陆业务系统1
2、检查没有携带凭据，让浏览器重定向SSO Server 登陆验证并携带自当前请求路径（路径1）
3、用户没有登陆，跳转到登陆页面并携带（路径1）
4、用户登陆，并保存凭据，重定向到（路径1），并携带凭据
5、业务系统1 存储凭据
6、用户2登陆业务系统2
7、检查没有携带凭据，让浏览器重定向SSO Server 登陆验证并携带自当前请求路径（路径2）
8、用户已登陆，重定向到（路径2），并携带凭据
9、业务系统2，存储凭据

## 3、客户端与服务器端的功能
客户端：
1、拦截子系统未登录用户请求，跳转至sso认证中心
2、接收并存储sso认证中心发送的令牌
3、与服务器端通信，校验令牌的有效性
4、建立局部会话
5、拦截用户注销请求，向sso认证中心发送注销请求
服务器端：
1、验证用户的登录信息
2、创建全局会话
3、创建授权令牌
4、与客户端通信发送令牌
6、校验客户端令牌有效性
7、接收客户端注销请求，注销会话